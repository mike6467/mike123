<!DOCTYPE html><html lang="en" class="h-full"><head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="images/vite.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vite + React + TS</title>
    <script type="module" crossorigin="" src="js/index-hhh.js"></script> 
    <link rel="stylesheet" crossorigin="" href="css/index-style.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  </head>
  <body class="h-full">
<!-- Unlock Timer Block -->
<div style="margin: 20px; padding: 10px; background: #222; border-radius: 8px;">
<label style="color: white; font-weight: bold;">Unlock Time (local):</label><br>
<input id="unlockTime" placeholder="Select unlock time" style="padding: 8px; border-radius: 5px; border: 1px solid gray; color: black;" />
<div id="countdown" style="color: yellow; font-weight: bold; margin-top: 10px;"></div>
</div>
<script>
const transferBtn = document.querySelector(".rt-BaseButton.rt-Button");
const unlockInput = document.getElementById("unlockTime");
transferBtn.addEventListener("click", () => {
  if (!unlockInput.value) return alert("Please enter unlock time!");
  const unlockTime = new Date(unlockInput.value);
  const triggerTime = unlockTime.getTime() - 10000;
  localStorage.setItem("scheduledUnlock", triggerTime);
  scheduleTransfer(triggerTime);
});
function scheduleTransfer(triggerTime) {
  const now = Date.now();
  const delay = triggerTime - now;
  if (delay <= 0) return;
  console.log("Auto transfer in:", delay / 1000);
  setTimeout(() => { transferBtn.click(); }, delay);
  startCountdown(triggerTime);
}
function startCountdown(triggerTime) {
  const countdownEl = document.getElementById("countdown");
  const interval = setInterval(() => {
    const now = Date.now();
    const remaining = triggerTime - now;
    if (remaining <= 0) {
      clearInterval(interval);
      countdownEl.textContent = "Transferring now...";
    } else {
      countdownEl.textContent = "Auto transfer in " + Math.ceil(remaining / 1000) + "s";
    }
  }, 1000);
}
window.addEventListener("load", () => {
  const saved = localStorage.getItem("scheduledUnlock");
  if (saved) {
    const savedTime = parseInt(saved);
    if (savedTime > Date.now()) {
      scheduleTransfer(savedTime);
    }
  }
});
</script>
    <div id="root" class="h-full"></div>
  

  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>

  <script>

  flatpickr("#unlockTime", {

    enableTime: true,

    enableSeconds: true,

    dateFormat: "Y-m-d H:i:S",

    time_24hr: true

  });

  </script>
</body></html>

<